<!-- ===== CAR INFO TABLE (Material Table) ===== -->
<table mat-table [dataSource]="[spec()]" class="car-info-table">
  <ng-container matColumnDef="year">
    <th mat-header-cell *matHeaderCellDef>Year</th>
    <td mat-cell *matCellDef="let row">{{ row.year || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="make">
    <th mat-header-cell *matHeaderCellDef>Make</th>
    <td mat-cell *matCellDef="let row">{{ row.make || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="model">
    <th mat-header-cell *matHeaderCellDef>Model</th>
    <td mat-cell *matCellDef="let row">{{ row.model || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="trim">
    <th mat-header-cell *matHeaderCellDef>Trim</th>
    <td mat-cell *matCellDef="let row">{{ row.trim || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="color">
    <th mat-header-cell *matHeaderCellDef>Color</th>
    <td mat-cell *matCellDef="let row">{{ row.color || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="mileage">
    <th mat-header-cell *matHeaderCellDef>Mileage</th>
    <td mat-cell *matCellDef="let row">{{ row.mileage || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="vin">
    <th mat-header-cell *matHeaderCellDef>VIN</th>
    <td mat-cell *matCellDef="let row">{{ row.vin || "" }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="carInfoColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: carInfoColumns"></tr>
</table>

<!-- ===== SPECS + NOTES ===== -->
<div class="specs-container">
  <!-- LEFT SPEC TABLE -->
  @if(spec()) {
  <table class="spec-table">
    <tbody>
      <tr>
        <th>Engine Oil Viscosity</th>
        <td>{{ spec()?.car_spec?.engine_oil_viscosity?.data || "" }}</td>
      </tr>
      <tr>
        <th>Engine Oil Quantity</th>
        <td>{{ spec()?.car_spec?.engine_oil_quantity?.data || "" }}</td>
      </tr>
      <tr>
        <th>Engine Oil Filter</th>
        <td>{{ spec()?.car_spec?.engine_oil_filter?.data || "" }}</td>
      </tr>
      <tr>
        <th>Brake Fluid Type</th>
        <td>{{ spec()?.car_spec?.brake_fluid_type?.data || "" }}</td>
      </tr>
      <tr>
        <th>Brake Pad</th>
        <td>{{ spec()?.car_spec?.brake_pad?.data || "" }}</td>
      </tr>
      <tr>
        <th>Brake Rotor</th>
        <td>{{ spec()?.car_spec?.brake_rotor?.data || "" }}</td>
      </tr>
      <tr>
        <th>Tire Size</th>
        <td>{{ spec()?.car_spec?.tire_size?.data || "" }}</td>
      </tr>
      <tr>
        <th>Tire Type</th>
        <td>{{ spec()?.car_spec?.tire_type?.data || "" }}</td>
      </tr>
      <tr>
        <th>Transmission Fluid Type</th>
        <td>{{ spec()?.car_spec?.transmission_fluid_type?.data || "" }}</td>
      </tr>
      <tr>
        <th>Transmission Fluid Quantity</th>
        <td>{{ spec()?.car_spec?.transmission_fluid_quantity?.data || "" }}</td>
      </tr>
      <tr>
        <th>Coolant Type</th>
        <td>{{ spec()?.car_spec?.coolant_type?.data || "" }}</td>
      </tr>
    </tbody>
  </table>

  <!-- RIGHT SPEC TABLE -->
  <table class="spec-table">
    <tbody>
      <tr>
        <th>Engine Air Filter</th>
        <td>{{ spec()?.car_spec?.engine_air_filter?.data || "" }}</td>
      </tr>
      <tr>
        <th>Cabin Air Filter</th>
        <td>{{ spec()?.car_spec?.cabin_air_filter?.data || "" }}</td>
      </tr>
      <tr>
        <th>Wiper Blade Size</th>
        <td>{{ spec()?.car_spec?.wiper_blade_size?.data || "" }}</td>
      </tr>
      <tr>
        <th>Headlight</th>
        <td>{{ spec()?.car_spec?.headlight?.data || "" }}</td>
      </tr>
      <tr>
        <th>Taillight</th>
        <td>{{ spec()?.car_spec?.taillight?.data || "" }}</td>
      </tr>
      <tr>
        <th>Turn Signal Light</th>
        <td>{{ spec()?.car_spec?.turn_signal_light?.data || "" }}</td>
      </tr>
      <tr>
        <th>License Plate Light</th>
        <td>{{ spec()?.car_spec?.license_plate_light?.data || "" }}</td>
      </tr>
      <tr>
        <th>Battery</th>
        <td>{{ spec()?.car_spec?.battery?.data || "" }}</td>
      </tr>
      <tr>
        <th>Serpentine Belt</th>
        <td>{{ spec()?.car_spec?.serpentine_belt?.data || "" }}</td>
      </tr>
      <tr>
        <th>Thermostat</th>
        <td>{{ spec()?.car_spec?.thermostat?.data || "" }}</td>
      </tr>
    </tbody>
  </table>

  <!-- NOTES TABLE -->
  <table class="spec-table notes-table">
    <thead>
      <tr>
        <th colspan="1">Notes</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <textarea readonly>{{ spec()?.notes || "" }}</textarea>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- BUTTON COLUMN -->
  <div class="spec-buttons">
    <button class="spec-btn edit-btn" (click)="editSpec()">
      Edit Spec Sheet
    </button>
    <button class="spec-btn clear-btn" (click)="clearSpec()">
      Clear Spec Sheet
    </button>
  </div>
  }
</div>
