<!-- ===== CAR INFO TABLE (Material Table) ===== -->
<table mat-table [dataSource]="[spec()]" class="car-info-table">
  <ng-container matColumnDef="year">
    <th mat-header-cell *matHeaderCellDef>Year</th>
    <td mat-cell *matCellDef="let row">{{ row.year || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="make">
    <th mat-header-cell *matHeaderCellDef>Make</th>
    <td mat-cell *matCellDef="let row">{{ row.make || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="model">
    <th mat-header-cell *matHeaderCellDef>Model</th>
    <td mat-cell *matCellDef="let row">{{ row.model || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="trim">
    <th mat-header-cell *matHeaderCellDef>Trim</th>
    <td mat-cell *matCellDef="let row">{{ row.trim || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="color">
    <th mat-header-cell *matHeaderCellDef>Color</th>
    <td mat-cell *matCellDef="let row">{{ row.color || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="mileage">
    <th mat-header-cell *matHeaderCellDef>Mileage</th>
    <td mat-cell *matCellDef="let row">{{ row.mileage || "" }}</td>
  </ng-container>

  <ng-container matColumnDef="vin">
    <th mat-header-cell *matHeaderCellDef>VIN</th>
    <td mat-cell *matCellDef="let row">{{ row.vin || "" }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="carInfoColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: carInfoColumns"></tr>
</table>

<!-- ===== SPECS + NOTES ===== -->
<div class="data-container">
  <!-- LEFT SPEC TABLE -->
  @if(spec()) {
  <table class="spec-table spec-left">
    <tbody>
      <tr>
        <th>Engine Oil Viscosity</th>
        <td>
          {{
            labelFor(
              "engine oil viscosity",
              spec()?.spec?.engine_oil_viscosity_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Engine Oil Quantity</th>
        <td>
          {{
            labelFor(
              "engine oil quantity",
              spec()?.spec?.engine_oil_quantity_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Engine Oil Filter</th>
        <td>
          {{
            labelFor("engine oil filter", spec()?.spec?.engine_oil_filter_id)
          }}
        </td>
      </tr>
      <tr>
        <th>Brake Fluid Type</th>
        <td>
          {{ labelFor("brake fluid type", spec()?.spec?.brake_fluid_type_id) }}
        </td>
      </tr>
      <tr>
        <th>Brake Pad</th>
        <td>{{ labelFor("brake pad", spec()?.spec?.brake_pad_id) }}</td>
      </tr>
      <tr>
        <th>Brake Rotor</th>
        <td>{{ labelFor("brake rotor", spec()?.spec?.brake_rotor_id) }}</td>
      </tr>
      <tr>
        <th>Tire Size</th>
        <td>{{ labelFor("tire size", spec()?.spec?.tire_size_id) }}</td>
      </tr>
      <tr>
        <th>Tire Type</th>
        <td>{{ labelFor("tire type", spec()?.spec?.tire_type_id) }}</td>
      </tr>
      <tr>
        <th>Transmission Fluid Type</th>
        <td>
          {{
            labelFor(
              "transmission fluid type",
              spec()?.spec?.transmission_fluid_type_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Transmission Fluid Quantity</th>
        <td>
          {{
            labelFor(
              "transmission fluid quantity",
              spec()?.spec?.transmission_fluid_quantity_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Coolant Type</th>
        <td>{{ labelFor("coolant type", spec()?.spec?.coolant_type_id) }}</td>
      </tr>
      <tr>
        <th>Battery</th>
        <td>{{ labelFor("battery", spec()?.spec?.battery_id) }}</td>
      </tr>
    </tbody>
  </table>

  <!-- RIGHT SPEC TABLE -->
  <table class="spec-table spec-right">
    <tbody>
      <tr>
        <th>Engine Air Filter</th>
        <td>
          {{
            labelFor("engine air filter", spec()?.spec?.engine_air_filter_id)
          }}
        </td>
      </tr>
      <tr>
        <th>Cabin Air Filter</th>
        <td>
          {{ labelFor("cabin air filter", spec()?.spec?.cabin_air_filter_id) }}
        </td>
      </tr>
      <tr>
        <th>Driver Wiper Blade</th>
        <td>
          {{
            labelFor(
              "wiper blade size",
              spec()?.spec?.wiper_blade_size_driver_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Passenger Wiper Blade</th>
        <td>
          {{
            labelFor(
              "wiper blade size",
              spec()?.spec?.wiper_blade_size_passenger_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Headlight</th>
        <td>{{ labelFor("headlight", spec()?.spec?.headlight_id) }}</td>
      </tr>
      <tr>
        <th>Taillight</th>
        <td>{{ labelFor("taillight", spec()?.spec?.taillight_id) }}</td>
      </tr>
      <tr>
        <th>Turn Signal Light</th>
        <td>
          {{
            labelFor("turn signal light", spec()?.spec?.turn_signal_light_id)
          }}
        </td>
      </tr>
      <tr>
        <th>License Plate Light</th>
        <td>
          {{
            labelFor(
              "license plate light",
              spec()?.spec?.license_plate_light_id
            )
          }}
        </td>
      </tr>
      <tr>
        <th>Brake Light</th>
        <td>{{ labelFor("brake light", spec()?.spec?.brake_light_id) }}</td>
      </tr>
      <tr>
        <th>Serpentine Belt</th>
        <td>
          {{ labelFor("serpentine belt", spec()?.spec?.serpentine_belt_id) }}
        </td>
      </tr>
      <tr>
        <th>Thermostat</th>
        <td>{{ labelFor("thermostat", spec()?.spec?.thermostat_id) }}</td>
      </tr>
    </tbody>
  </table>

  <!-- ADDITIONAL SPECS TABLE -->
  <table class="additional-spec-table additional">
    <th>
      <tr>
        <th>License Plate Number</th>
      </tr>
    </th>
    <tbody>
      <tr>
        <td>{{ spec()?.spec?.license_plate_number || "" }}</td>
      </tr>
    </tbody>
  </table>
  <!-- NOTES TABLE -->
  <table class="spec-table notes-table notes">
    <thead>
      <tr>
        <th colspan="1">Notes</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <textarea readonly>{{ spec()?.notes || "" }}</textarea>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- BUTTON COLUMN -->
  <div class="spec-buttons actions">
    <button class="spec-btn edit-btn" (click)="editSpec()">
      Edit Spec Sheet
    </button>
    <button class="spec-btn clear-btn" (click)="clearSpec()">
      Clear Spec Sheet
    </button>
  </div>
  }
</div>
